"use strict";!function($){function cws_megamenu(menu,args){if(null==menu)return!1;var def_args,fw_obj,items,item,item_data,item_id,i,that=this,args="object"==typeof args?args:{};if(def_args={fw_sel:".wide_container",bottom_level_sub_menu_width_adj:0},this.args=cws_merge_trees(args,def_args),this.controller=cws_megamenu_controller,this.update_vars=cws_megamenu_update_vars,this.update_items_vars=cws_megamenu_update_items_vars,this.reposition_items=cws_megamenu_reposition_items,this.is_item_right=cws_megamenu_is_item_right,this.is_item_top_level=cws_megamenu_is_item_top_level,this.is_rtl=cws_megamenu_is_rtl,this.rtl=this.is_rtl(),this.mobile_init=!1,this.menu=menu,this.args.fw_sel.length?(fw_obj=$(this.menu).closest(this.args.fw_sel)).length&&(this.fw=fw_obj[0]):this.fw=this.menu.parentNode,!this.fw)return!1;for(items=this.menu.getElementsByClassName("menu-item-object-megamenu_item"),this.vars={},this.vars.fw_width=null,this.vars.fw_left=null,this.vars.fw_right=null,this.items={},i=0;i<items.length;i++)item_id=(item=items[i]).id,this.items[item_id]={},(item_data=this.items[item_id]).el=item,item_data.sub_menu=item.querySelector(".sub-menu"),item_data.megamenu_item=item.querySelector(".megamenu_item"),item_data.vars={width:null,left:null,right:null},item_data.is_right=this.is_item_right(item),item_data.is_top_level=this.is_item_top_level(item);this.controller()}function cws_megamenu_controller(){var that=this;that.update_vars(),that.update_items_vars(),that.reposition_items(),window.addEventListener("resize",(function(){that.update_vars(),that.update_items_vars(),that.reposition_items()}),!1)}function cws_megamenu_update_items_vars(){var that=this,items,keys,i,item_data,vars,item_id,item;for(items=this.items,keys=Object.keys(items),i=0;i<keys.length;i++)item=(item_data=items[item_id=keys[i]]).el,(vars=item_data.vars).width=item.offsetWidth,vars.left=$(item).offset().left,vars.right=vars.left+vars.width}function cws_megamenu_update_vars(item){var that=this;this.vars.fw_width=this.fw.offsetWidth,this.vars.fw_left=$(this.fw).offset().left,this.vars.fw_right=this.vars.fw_left+this.vars.fw_width}function cws_megamenu_reposition_items(){var that=this,items,keys,i,item_data,item_id,mm_item_width,mm_item_left,mm_item_right;for(items=this.items,keys=Object.keys(items),i=0;i<keys.length;i++){var that_item,that_per_item,mgmenu_pos,doc_w,item_pos,pos,item_per_w;if(item_data=items[item_id=keys[i]],$("li.cws_megamenu_item").hasClass("dis_full_width"))(that_per_item=(that_item=$("li.cws_megamenu_item")).parents(".menu-item-object-megamenu_item")).addClass("disable_fw"),mgmenu_pos=that_item.data("pos"),that_per_item.addClass("direction_"+mgmenu_pos),mm_item_width=that_item.data("width"),item_data.sub_menu.style.width=mm_item_width+"px",doc_w=jQuery(window).width(),$(".main-nav-container .menu-item-object-megamenu_item").each((function(){item_pos=$(this).offset().left,item_per_w=$(this).width()})),"right"==mgmenu_pos?item_pos+mm_item_width>doc_w&&(mm_item_left=-1*(item_pos+mm_item_width-doc_w+30),item_data.sub_menu.style.left=mm_item_left+"px"):"left"==mgmenu_pos?item_pos<mm_item_width&&(mm_item_left=-1*(item_pos-30),item_data.sub_menu.style.left=mm_item_left+"px"):"center"==mgmenu_pos&&(item_pos+mm_item_width/2<doc_w&&item_pos>mm_item_width/2?(mm_item_left=-1*(mm_item_width/2-item_per_w/2),item_data.sub_menu.style.left=mm_item_left+"px"):item_pos+mm_item_width>doc_w?(mm_item_left=-1*(item_pos+mm_item_width-doc_w+30),item_data.sub_menu.style.left=mm_item_left+"px"):item_pos<mm_item_width&&(mm_item_left=-1*(item_pos-30),item_data.sub_menu.style.left=mm_item_left+"px"));else mm_item_width=this.vars.fw_width,item_data.sub_menu.style.width=mm_item_width+"px",this.rtl?(mm_item_right=item_data.vars.right-this.vars.fw_right,item_data.sub_menu.style.right=mm_item_right+"px"):(mm_item_left=-1*(item_data.vars.left-this.vars.fw_left),item_data.sub_menu.style.left=mm_item_left+"px")}}function cws_megamenu_is_item_right(item){var that=this;return null!=item&&(cws_has_class(item,"right")||$(item).closest(".menu-item.right").length)}function cws_megamenu_is_item_top_level(item){var that=this;return null!=item&&!cws_has_class(item.parentNode,"sub-menu")}function cws_megamenu_is_rtl(){return cws_has_class(document.body,"rtl")}window.cws_megamenu=cws_megamenu}(jQuery);